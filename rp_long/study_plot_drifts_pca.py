#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Oct 29 08:56:49 2020

@author: Moritz Heusinger <moritz.heusinger@gmail.com>
"""

# -*- coding: utf-8 -*-
"""
@author: Moritz Heusinger <moritz.heusinger@gmail.com>
"""

import matplotlib.pyplot as plt
import numpy as np

HIGH_DIM_DRIFTS_TP = [6010]
HIGH_DIM_DRIFTS = [572, 789, 1066, 1230, 1281, 1444, 1490, 1620, 1848, 1868, 2028, 2250, 2579, 2729, 2836, 3642, 3728, 3860, 4204, 4270, 4326, 4481, 4574, 4735, 4842, 5192, 5365, 5426, 5428, 5440, 5473, 6010, 6048, 7157, 7161, 7661, 7766, 7950, 8185, 8432, 8434, 8435, 8785, 8963, 8976, 9245, 9824, 10014, 10102, 10103, 10183, 10185, 10646, 10769, 10976, 11030, 11472, 11565, 11696, 11934, 12438, 12644, 12647, 12665, 12678, 12679, 12687, 12749, 13767, 13770, 13925, 14045, 14051, 14501, 15295, 15787, 15977, 16031, 16259, 16794, 16821, 16955, 17079, 17139, 17190, 17266, 17319, 17347, 18256, 18308, 18493, 18562, 18612, 18715, 19639, 19738, 19788, 20194, 20900, 20907, 20962, 21020, 21688, 21978, 22267, 22351, 22369, 23123, 23798, 23899, 24123, 24204, 24260, 24274, 24313, 24494, 24526, 24565, 24578, 24589, 24642, 25058, 25162, 25219, 25356, 25811, 25827, 26163, 26186, 26489, 26566, 26615, 26776, 27029, 27078, 27265, 27474, 27613, 27837, 27898, 28056, 28337, 28370, 28519, 28582, 28700, 28719, 28974, 29043, 29217, 29547, 29634, 29814, 29825, 29928, 30476, 30781, 31297, 31439, 31475, 31622, 32280, 32423, 32488, 32961, 33835, 33879, 34046, 34146, 34213, 34334, 34675, 34761, 35013, 35230, 35301, 35682, 35719, 36072, 36077, 36090, 36318, 36359, 36470, 36731, 36800, 36980, 37217, 37374, 37627, 37823, 37942, 38089, 38092, 38643, 38879, 38921, 39039, 39057, 39204, 39301, 39682, 39959, 40038, 40162, 40168, 40404, 41005, 41333, 41676, 41840, 41875, 42677, 42816, 42905, 43494, 43497, 43703, 43827, 43896, 44017, 44639, 44690, 44940, 45174, 45431, 45435, 45437, 45469, 45668, 45672, 45816, 46057, 46291, 46369, 46954, 47234, 47425, 47611, 47826, 48205, 48243, 48250, 48615, 48801, 48945, 48952, 48960, 48980, 49093, 49159, 49320, 49347, 49425, 49617, 49697]

LOW_DIM_DRIFTS_TP = [7008]
LOW_DIM_DRIFTS = [389, 1040, 1266, 1298, 1324, 1668, 2107, 2189, 4112, 4691, 5397, 5791, 5850, 5979, 6599, 6632, 7008, 7101, 8178, 8839, 9226, 9280, 9950, 10247, 10688, 10861, 11249, 11251, 11785, 11933, 12034, 12288, 12477, 13041, 13088, 13224, 13373, 14426, 15717, 16170, 17477, 17897, 18235, 18344, 18515, 18891, 19243, 19382, 19851, 19989, 20083, 20906, 22180, 22232, 22244, 22249, 22656, 22939, 23090, 23292, 24560, 24939, 25899, 26077, 26095, 27158, 27830, 28852, 29962, 30031, 30580, 30684, 30722, 31009, 31619, 33381, 34288, 34408, 34442, 35808, 36379, 36437, 36544, 36670, 37955, 38351, 38425, 39967, 41579, 42196, 42483, 42606, 42636, 42898, 43475, 43579, 43949, 44035, 44499, 44596, 44877, 45201, 45403, 45425, 45655, 45881, 45902, 46032, 46147, 46314, 46353, 46378, 46829, 47123, 47239, 47497, 47784, 48495, 48711, 48802]


HIGH_DRIFT = []
LOW_DRIFT = []
HIGH_DRIFT_TP = []
LOW_DRIFT_TP = []

plt.rcParams["figure.figsize"] = (10, 4)

for i in range(2000):
    i += 6000
    HIGH_DRIFT.append(1 if HIGH_DIM_DRIFTS.count(i) == 1 else None)
    LOW_DRIFT.append(0 if LOW_DIM_DRIFTS.count(i) == 1 else None)
    HIGH_DRIFT_TP.append(1 if HIGH_DIM_DRIFTS_TP.count(i) == 1 else None)
    LOW_DRIFT_TP.append(0 if LOW_DIM_DRIFTS_TP.count(i) == 1 else None)

plt.scatter(np.arange(2000, 4000), HIGH_DRIFT,
            edgecolors='r', label='False positive', s=100, marker='^', facecolors='none')

plt.scatter(np.arange(2000, 4000), HIGH_DRIFT_TP,
            c='b', s=100, marker='^', label='True positive')

plt.scatter(np.arange(2000, 4000), LOW_DRIFT,
            edgecolors='r', marker='^', s=100, facecolors='none')

plt.scatter(np.arange(2000, 4000), LOW_DRIFT_TP,
            c='b', marker='^', s=100)

plt.xlabel('Iteration')
#plt.ylabel('Drift Detection')
plt.yticks(np.arange(0, 1.05, step=1.0), ('Projected', 'Original'), rotation=0)

plt.legend(loc='center right')
plt.show()
plt.savefig(fname='drifts_high_vs_pca.eps', format='eps')

print('Count high dim drifts: {}'.format(len(HIGH_DIM_DRIFTS)))
print('Count low dim drifts: {}'.format(len(LOW_DIM_DRIFTS)))
